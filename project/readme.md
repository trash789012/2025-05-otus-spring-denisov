# JamTime Backend (Spring Boot + REST + JWT + ACL + PostgreSQL + Liquibase)

–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è **JamTime** ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Å–ª–æ—Ç—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä—É–ø–ø–∞–º–∏ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ **Spring Security ACL**.

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö:
- **Spring Boot 3**
- **Spring Security + JWT**
- **Spring Security ACL (REST ACL)**
- **PostgreSQL**
- **Liquibase**
- **Docker Compose**
- **JPA/Hibernate**
- **OpenAPI 3 / Swagger UI**

---

# ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏:
### **1. Domain (—Å—É—â–Ω–æ—Å—Ç–∏)**
- `User`
- `Group`
- `Slot`

–í—Å–µ ID ‚Äî `Long`.

### **2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JWT:
- –≤—Ö–æ–¥ –ø–æ email + password
- —Ç–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (LocalStorage)
- Spring Security —á–∏—Ç–∞–µ—Ç —Ç–æ–∫–µ–Ω –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Authentication

### **3. ACL (Access Control List)**
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Spring Security ACL –¥–ª—è *–≥—Ä–∞–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞*:

–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –∏–º–µ–µ—Ç:
- –∑–∞–ø–∏—Å–∏ –≤ `acl_class`
- –∑–∞–ø–∏—Å–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –≤ `acl_object_identity`
- ACL –∑–∞–ø–∏—Å–∏ –≤ `acl_entry`

–ü—Ä–∞–≤–∞:  
`READ`, `WRITE`, `DELETE`, `ADMINISTRATION`.

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
- –ø—Ä–∞–≤–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –Ω–∞–¥ –æ–±—ä–µ–∫—Ç–æ–º
- –ø—Ä–∞–≤–∞ "ADMIN"
- –∫–∞—Å—Ç–æ–º–Ω—ã–µ SIDs:
    - `ROLE_ROOT` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –¥–æ—Å—Ç—É–ø—É

## –ü—Ä–∏–Ω—Ü–∏–ø—ã ACL:
- –°–ª–æ—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—É—á–∞–µ—Ç ACL-–ø—Ä–∞–≤–∞:
    - –≤–ª–∞–¥–µ–ª—å—Ü–∞
- –ê–î–ú–ò–ù –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–∏–º –æ–±—ä–µ–∫—Ç–∞–º –∏ –æ–±—ä–µ–∫—Ç–∞–º —Å–≤–æ–µ–π –≥—Ä—É–ø–ø—ã
- ROOT –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ª—é–±–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –ª—é–±—ã–º –æ–ø–µ—Ä–∞—Ü–∏—è–º
- ACL —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ **REQUIRES_NEW**

---

# üõ¢ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL —á–µ—Ä–µ–∑ Docker

## docker-compose.yml
```yaml
services:
  postgres:
    image: postgres:16
    container_name: jam–µtime
    restart: always
    environment:
      POSTGRES_PASSWORD: postgres
      POSTGRES_USER: postgres
      POSTGRES_DB: jamtime
    ports:
      - "5432:5432"
    volumes:
      - pg_data:/var/lib/postgresql/data

volumes:
  pg_data:
```

# üì° REST API

Swagger –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:

‚û°Ô∏è /swagger-ui

# ‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL 
–ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Ñ–∞–π–ª–∞ docker-compose.yml –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ

```bash
docker compose up -d
```
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å Spring Boot
```bash
./mvnw spring-boot:run
```

# üß© –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- –ü–æ–ª–Ω—ã–π REST backend
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–∞ –∫–ª–∏–µ–Ω—Ç–æ–º
- –ì—Ä–∞–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è ACL –º–æ–¥–µ–ª—å
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ ACL —Ä–æ–ª–∏ –≥—Ä—É–ø–ø
- –°–∫–≤–æ–∑–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL
- –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Liquibase
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è SID, CLASS, ENTRY
- Dockerized –ë–î

# üöÄ –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google calendar
- –†–∞—Å—Å—ã–ª–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞
- WebSocket live-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ª–æ—Ç–æ–≤

# üé∏ –ê–≤—Ç–æ—Ä
–ù–∏–∫–æ–ª–∞–π –î–µ–Ω–∏—Å–æ–≤